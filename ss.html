<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Professional Review System</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      margin: 20px;
      background: #f4f6f9;
    }

    .prs-btn {
      background: #007bff;
      color: #fff;
      padding: 8px 16px;
      border: none;
      cursor: pointer;
      border-radius: 6px;
      font-weight: 600;
      font-size: 14px;
    }

    .prs-btn:hover {
      background: #0056b3;
    }

    .prs-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .prs-modal-content {
      position: relative;
      background: #fff;
      /* background: ; */
      padding: 20px 40px 20px 20px;
      
      border-radius: 12px;
      width: 420px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    }

    .prs-modal-content input,
    .prs-modal-content textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 14px;
    }

    .prs-star-rating {
      display: flex;
      gap: 5px;
      font-size: 24px;
      cursor: pointer;
      margin-bottom: 12px;
    }

    .prs-star {
      color: #ccc;
    }

    .prs-star.selected {
      color: #ff9800;
    }

    /* Reviews grid - 2 per row */
    .prs-reviews {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      margin-top: 20px;
    }

    @media (max-width: 768px) {
      .prs-reviews {
        grid-template-columns: 1fr;
      }
    }

    .prs-review-card {
      position: relative;
      background: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.2s ease;
    }

    .prs-review-card:hover {
      transform: translateY(-5px);
    }

    .prs-review-card h4 {
      margin: 0 0 8px;
      color: #333;
    }

    .prs-review-card .prs-stars {
      color: #ff9800;
      margin-bottom: 10px;
    }

    .prs-reply-box {
      margin-top: 10px;
    }

    .prs-reply {
      margin-top: 8px;
      font-size: 14px;
      color: #222;
      background: #f1f1f1;
      padding: 6px 12px;
      border-radius: 6px;
    }

    .prs-reply strong {
      color: #007bff;
    }

    .prs-reply-list {
      margin-top: 8px;
    }

    /* Close (X) Button inside form */
    .prs-form-close-btn {
      position: absolute;
      top: 10px;
      right: 12px;
      background: transparent;
      border: none;
      font-size: 20px;
      cursor: pointer;
      color: #999;
      font-weight: bold;
    }

    .prs-form-close-btn:hover {
      color: #e74c3c;
    }

    /* Close button for review card */
    .prs-close-btn {
      position: absolute;
      top: 10px;
      right: 12px;
      background: transparent;
      border: none;
      font-size: 18px;
      cursor: pointer;
      color: #999;
    }

    .prs-close-btn:hover {
      color: #e74c3c;
    }
  </style>
</head>

<body>

  <button class="prs-btn" onclick="openModal()">Click to Review</button>

  <!-- Modal for Review Form -->
  <div id="reviewModal" class="prs-modal">
    <div class="prs-modal-content">
      <!-- Into (X) close button -->
      <button class="prs-form-close-btn" onclick="closeModal()">×</button>
      <h3 style="margin-bottom:15px;">Write a Review</h3>
      <input type="text" id="name" placeholder="Your Name">
      <input type="email" id="email" placeholder="Your Email">

      <div class="prs-star-rating" id="starRating">
        <span class="prs-star" data-value="1">&#9733;</span>
        <span class="prs-star" data-value="2">&#9733;</span>
        <span class="prs-star" data-value="3">&#9733;</span>
        <span class="prs-star" data-value="4">&#9733;</span>
        <span class="prs-star" data-value="5">&#9733;</span>
      </div>

      <textarea id="review" placeholder="Your Review"></textarea>
      <button class="prs-btn" onclick="submitReview()">Submit</button>
    </div>
  </div>

  <!-- Reviews Section -->
  <div class="prs-reviews" id="reviewsContainer"></div>

  <script>
    let selectedRating = 0;

    // Modal Functions
    function openModal() { document.getElementById("reviewModal").style.display = "flex"; }
    function closeModal() { document.getElementById("reviewModal").style.display = "none"; }

    // Star Rating
    document.querySelectorAll(".prs-star").forEach(star => {
      star.addEventListener("click", function () {
        selectedRating = this.dataset.value;
        document.querySelectorAll(".prs-star").forEach(s => s.classList.remove("selected"));
        for (let i = 0; i < selectedRating; i++) {
          document.querySelectorAll(".prs-star")[i].classList.add("selected");
        }
      });
    });

    // Submit Review
    function submitReview() {
      let name = document.getElementById("name").value;
      let email = document.getElementById("email").value;
      let review = document.getElementById("review").value;

      if (!name || !email || !review || selectedRating == 0) {
        alert("Please fill all fields and select rating!");
        return;
      }

      let container = document.getElementById("reviewsContainer");

      let card = document.createElement("div");
      card.className = "prs-review-card";
      card.innerHTML = `
        <button class="prs-close-btn" onclick="this.parentElement.remove()">×</button>
        <h4>${name}</h4>
        <div class="prs-stars">${"★".repeat(selectedRating)}${"☆".repeat(5 - selectedRating)}</div>
        <p>${review}</p>
        <button class="prs-btn" style="background:#28a745;" onclick="replyForm(this)">Reply</button>
        <div class="prs-reply-box"></div>
        <div class="prs-reply-list"></div>
      `;

      container.appendChild(card);

      // Reset form
      closeModal();
      document.getElementById("name").value = "";
      document.getElementById("email").value = "";
      document.getElementById("review").value = "";
      selectedRating = 0;
      document.querySelectorAll(".prs-star").forEach(s => s.classList.remove("selected"));
    }

    // Reply Form
    function replyForm(button) {
      let replyBox = button.nextElementSibling;
      replyBox.innerHTML = `
        <input type="text" placeholder="Write reply..." style="width:80%;margin-top:5px;padding:6px;">
        <button class="prs-btn" style="background:#6c757d;margin-top:5px;" onclick="submitReply(this)">Send</button>
      `;
    }

    // Submit Reply
    function submitReply(button) {
      let input = button.previousElementSibling;
      if (input.value.trim() === "") {
        alert("Reply cannot be empty");
        return;
      }
      let replyList = button.parentElement.nextElementSibling;
      let reply = document.createElement("div");
      reply.className = "prs-reply";
      reply.innerHTML = `<strong>Anna:</strong> ${input.value}`;

      replyList.appendChild(reply);

      // Clear reply input
      button.parentElement.innerHTML = "";
    }
  </script>

</body>
</html>
